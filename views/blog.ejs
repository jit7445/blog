<%- include('partials/sidebar.ejs',{user:user}) %>

<section class="text-gray-600 body-font h-64 ">
  <button class="bg-green-500 text-white px-4 py-2 rounded mt-4 ms-4">
    <a id="newPostBtn" href="/blog/newblog" class="text-white no-underline">
      New Post
    </a>
  </button>
  <div class=" px-5 py-24 mx-auto relative">
    
    
    <div class="flex flex-wrap -m-4 mb-8"  style="overflow-y: scroll; height:33rem">
      <% if (blogs && Array.isArray(blogs)) { %>
      <% blogs.forEach(blog=> { %>
        <div class="p-4 md:w-1/3 m-8">
          <div class="h-full border-2 border-gray-200 border-opacity-60 rounded-lg ">
            <img class="lg:h-48 md:h-36 w-full object-cover object-center" src="<%= blog.coverImageURL %>"
              alt="blog image">
            <div class="p-6">
              <div class="flex flex-row items-center w-auto">
                <h1 class="tracking-widest text-xs title-font font-medium inline text-md mb-1 mr-2">
                  <%= blog.createdBy.fullName %>
                </h1>
                <img src="<%= blog.createdBy.profileImageURL %>" class="rounded-full h-12 w-12">
              </div>
              <h1 class="title-font text-lg font-medium text-gray-900 mb-3">
                <%= blog.title %>
              </h1>
              <p class="leading-relaxed mb-3">
                <%= blog.body %>
              </p>
              <div class="flex items-center flex-wrap">
                <a class="text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0" href="/blog/<%= blog._id %>">Learn
                  More
                  <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M5 12h14"></path>
                    <path d="M12 5l7 7-7 7"></path>
                  </svg>
                </a>

              </div>
            </div>
          </div>
        </div>
        
        <% }); %>

        <% } else { %>
          <h1><%= blogs.error %></h1>
          <% } %>

    </div>
  </div>
</section>
<%- include("partials/footer.ejs") %>